
<div align="center">
  <br />
  <h1>SQL vs NoSQL</h1>
  <br />
</div>

## 목차

1. [**SQL**](#1)
2. [**NoSQL**](#2)
3. [**SQL vs NoSQL**](#3)

<br />

<div id="1"></div>

## SQL
  </br>
SQL 은 '**구조화 된 쿼리 언어 (Structured Query Language)**' 를 말한다. 따라서 데이터베이스 자체를 나타내는 것이 아니라, 특정 유형의 데이터베이스와 상호 작용하는 데 사용 하는 쿼리 언어이다.  
SQL을 사용하면 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 저장, 수정, 삭제 및 검색 할 수 있다.
</br>


**SQL 특징**
    </br>
    
  1. 데이터는 **정해진 데이터 스키마를 따라 테이블에 저장**된다. 
  2. 데이터는 **관계를 통해서 연결된 여러 테이블에 분산**된다.
  </br>
  
**1. 정해진 데이터 스키마(엄격한 스키마)**
  </br>
  ![enter image description here](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/bzaTkz/btqFNQK86q1/UTJTesTZgKhy5kbvPoeKJK/img.png)
  
 </br>
 데이터는 테이블에 레코드로 저장되는데, 각 테이블마다 명확하게 정의된 구조가 있다. 해당 구조는 필드의 이름과 데이터 유형으로 정의된다. 
 SQL에서는 **스키마를 준수하지 않은 레코드는 테이블에 추가 수 없다.** 위의 테이블에서 보면 위의 데이터 외에 다른 추가할 수 없다.
 </br>
 
**2.관계**
</br>

![enter image description here](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/bqdT4U/btqFPH66Lke/80rZaJ1LudbB1RUojBfNLk/img.png)

</br>
SQL 기반의 데이터 베이스의 또 다른 중요한 부분은 관계이다.

데이터의 중복을 피하기 위해, 데이터들을 여러 테이블로 나누어 저장한다. 예를들어 Orders 테이블을 보면, Customer ID와 Product ID를 통해 John이 연필을 12개 샀다는 것을 알 수 있다.
  
이처럼 SQL은 각 테이블 간의 관계 지정을 통해 테이블을 접근할 수 있고, 따라서 중복 없이 해당 데이터만을 다룰 수 있다  
  
이런 명확한 구조는 **데이터가 항상 하나의 테이블에서만 관리**되기 때문에 **잘못된 데이터가 테이블 전체에 복제되어 발생하는 문제가 없다**는 장점이 있다.

  </br>


<div id="2"></div>

## NoSQL
  </br>
SQL과는 반대로 스키마도 없고 관계도 없다.
NoSQL 에서는 테이블(table)을 컬렉션(Collection)으로, 레코드(record)를 문서(documents)라고 부른다.
그러나 단순히 이름만 다른 것이 아니라, 핵심적인 차이가 있다.  SQL에서는 정해진 스키마를 따르지 않는다면 데이터를 추가 할 수 없었지만, **NoSQL에서는 다른 구조의 데이터를 같은 컬렉션(= SQL에서의  table)에 추가할 수 있다**.  </br>
  </br>
  </br>
  
![enter image description here](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/bacgVx/btqFPHeZ0uW/bfZy8A6IoZPQIlC97kXNd0/img.png)
 
문서는 약간 JSON 데이터와 비슷한 형태를 가지고 있다. 또한 관계형 데이터베이스처럼 여러 테이블에 나누어담지 않고, **관련 데이터를 동일한 '컬렉션'에 넣는다**. </br>

 위 사진에서 보면 John이 연필을 12개 샀을 때, Orders 컬렉션에는 주문 번호와 고객에 대한 정보, 상품에 대한 정보가 모두 들어가게 된다. 이때 SQL과 달리 id만을 저장하는 것이 아니라 고객 이름이나 전화번호 등 모든 정보를 저장하게 된다. 이렇게 해서 Customers와 Products를 보지 않고 Orders만으로 우리가 원하는 데이터를 모두 얻을 수 있도록 한다.
  

따라서 여러 테이블 / 컬렉션을 조인(join) 할 필요없이 이미 필요한 모든 것을 갖춘 문서를 만들게 됩니다.

실제로 NoSQL 데이터베이스에는 조인이라는 개념이 없다.

조인을 하고 싶다면, 수동으로 직접 외래키를 검색하여 사용할 수 있겠지만, 일반적이지 않다.

대신 컬렉션마다  데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 생성한다. 그래서 데이터를 업데이트 할 때마다 모두 업데이트 했는지 확인해야한다.



<div id="3"></div>

## SQL vs NoSQL

 **SQL 장단점**
 </br>
 
1. 장점 
		- 명확하게 정의 된 스키마, 데이터 무결성 보장
		- 관계를 통해 각 데이터를 중복없이 한번만 저장
 2. 단점  
		- 덜 유연함, 데이터 스키마를 사전에 계획하고 알려야함(나중에 수정이 힘듬)
		- 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어질 수 있다
		- 대체로 수직적 확장만 가능
	</br>
  
**NoSQL 장단점**
</br>

 1. 장점
	 - 스키마가 없어서 유연하다. 언제든지 저장된 데이터를 조정하고 새로운 필드 추가가능
	 - 데이터는 애플리케이션이 필요로 하는 형식으로 저장됨. 데이터 읽어오는 속도 빨라짐
	 - 수직 및 수평 확장이 가능해서 애플리케이션이 발생시키는 모든 읽기/쓰기 요청 처리 가능
 2. 단점
	-   유연성으로 인해 데이터 구조 결정을 미루게 될 수 있음
	-   데이터 중복을 계속 업데이트 해야 함
	-   데이터가 여러 컬렉션에 중복되어 있기 때문에 수정 시 모든 컬렉션에서 수행해야 함 (SQL에서는 중복 데이터가 없으므로 한번만 수행이 가능)
 
</br>

**수직적 확장과 수평적확장**
  </br>
  
-   수직적 확장 : 단순히 데이터베이스 서버의 성능을 향상시키는 것 (ex. CPU 업그레이드)
-   수평적 확장 : 더 많은 서버가 추가되고 데이터베이스가 전체적으로 분산됨을 의미 (하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동)

데이터가 저장되는 방식 때문에 SQL 데이터베이스는 일반적으로 수직 확장만을 지원한다. 수평 확장은 NoSQL 데이터베이스에서만 가능하다.  
  
  </br>
  

**SQL 데이터베이스 사용이 더 좋을 때**
</br>

-   관계를 맺고 있는 데이터가 자주 변경되는 애플리케이션의 경우( NoSQL에서는 여러 컬렉션을 모두 수정해야 하기 때문에 비효율적)
-   변경될 여지가 없고, 명확한 스키마가 사용자와 데이터에게 중요한 경우
 </br>
 

**NoSQL 데이터베이스 사용이 더 좋을 때**
</br>

-   정확한 데이터 구조를 알 수 없거나 변경/확장 될 수 있는 경우
-   읽기를 자주 하지만, 데이터 변경은 자주 없는 경우
-   데이터베이스를 수평으로 확장해야 하는 경우 (막대한 양의 데이터를 다뤄야 하는 경우)
